<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Albero Genealogico – Web App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <h1>Albero Genealogico</h1>
    <div class="toolbar">
      <button id="btnAdd">➕ Persona</button>
      <button id="btnLinkParent">👨‍👩‍👧‍👦 Genitore</button>
      <button id="btnLinkSpouse">💍 Coniuge</button>
      <button id="btnDelete">🗑️ Elimina</button>
      <button id="btnSave">💾 Salva</button>
      <button id="btnExport">⬇️ Esporta</button>
      <label for="fileImport">⬆️ Importa<input id="fileImport" type="file" accept="application/json" hidden></label>
      <button id="btnReset">♻️ Reimposta</button>
      <button id="btnCenter">🎯 Centra</button>
      <button id="btnFit">🗺️ Adatta</button>
      <input id="searchInput" type="search" placeholder="Cerca nome/cognome" />
    </div>
  </header>
  <main class="app-main">
    <aside id="editor" class="editor">
      <h2>Dettagli persona</h2>
      <form id="personForm">
        <input id="photoInput" type="file" accept="image/*" />
        <div id="photoPreview" class="photo-preview"></div>
        <input id="firstName" type="text" placeholder="Nome" />
        <input id="lastName" type="text" placeholder="Cognome" />
        <select id="relation">
          <option value="">— seleziona —</option>
          <option>padre</option><option>madre</option><option>figlio</option><option>figlia</option>
          <option>nonno</option><option>nonna</option><option>zio</option><option>zia</option><option>coniuge</option><option>altro</option>
        </select>
        <input id="relationFree" type="text" placeholder="Parentela personalizzata" />
        <textarea id="notes" rows="3" placeholder="Note"></textarea>
        <button id="btnApply" type="button">Applica</button>
        <button id="btnClearPhoto" type="button">Rimuovi foto</button>
      </form>
    </aside>
    <section class="canvas-wrap">
      <svg id="svg">
        <rect id="svgBg" width="100%" height="100%" fill="transparent"></rect>
        <g id="viewport">
          <g id="linksLayer"></g>
          <g id="nodesLayer"></g>
        </g>
      </svg>
      <div id="modeBadge" class="mode-badge"></div>
    </section>
  </main>
  <footer class="app-footer">
    <small>Salvataggio automatico attivo</small>
  </footer>
  <script src="app.js"></script>
</body>
</html>